import{_ as h}from"./index-c828e260.js";import{a as i,g as p,T as g,j as t,y as v,z as S,E as b,x as q,r as a,B as z}from"./vendor-31e5e4f2.js";import{A as E,s as A}from"./fetch-32ddba0c.js";function w(e){return i(p,{children:[i(g,{as:"h2",fontSize:"2.5rem",p:"2",className:"result-header",mb:"4",children:["Result For ",e.query]}),t(v,{isFitted:!0,size:"lg",colorScheme:"telegram",variant:"enclosed",children:t(S,{mb:"1em",children:["movie","tv"].map((s,n)=>{return i(b,{_selected:{color:"white",bg:"blue.500"},padding:"3",fontSize:"1.3rem",onClick:()=>e.event(s,e.data),children:[s.toLocaleUpperCase()," ",`( ${o=s,e.data.filter(l=>l.media_type===o).length} )`]},n);var o})})})]})}const C=a.lazy(()=>h(()=>import("./searchContentCard-7f369de4.js"),["assets/searchContentCard-7f369de4.js","assets/vendor-31e5e4f2.js","assets/card-a505a0fd.js"])),L=a.lazy(()=>h(()=>import("./error-b098abf7.js"),["assets/error-b098abf7.js","assets/vendor-31e5e4f2.js"]));function D(){const e=q();let s=e.query.replaceAll(" ","+");const[n,o]=a.useState([]),[l,f]=a.useState([]),[y,m]=a.useState(!0);a.useEffect(()=>{const c=new AbortController;return(async d=>{try{const r=await A(d);o(r),u("movie",r)}catch(r){console.log(r)}finally{m(!1)}})(s),()=>{c.abort(),m(!0)}},[e.query]);const u=(c,d)=>{const r=d.filter(_=>_.media_type===c);f(r)};return t(E,{children:t(z,{as:"section",mt:"7rem",width:"100%",height:"100%",bg:"#192642",padding:["1","1rem"],className:"seacrh-result-page",children:y?"":n.length?i(p,{children:[t(w,{data:n,event:u,query:e.query}),t(a.Suspense,{children:t(C,{data:l})})]}):t(a.Suspense,{children:t(L,{message:`cannot find ${e.query}`})})})})}export{D as default};
